<section data-markdown>
    # Kommentare

    ## Richtige Dokumentation
</section>

<section>
    <pre>
        <code data-trim data-noescape>
            function executeRequests(requests) {
                // Iterate and execute all requests
                for (var i = 0; i < requests.length; i++) {
                    requests.execute();
                }
            }
        </code>
    </pre>

    <h2>Keine Redundanz!</h2>
</section>

<section>
    <pre>
        <code data-trim data-noescape>
            // Check whether code is still valid
            if (coupon.getValidTo() === null
                || (time() - coupon.getTimestamp()) < 24 * 60 * 60) {
                // ...
            }
        </code>
    </pre>
    <h2>Selbsterklärender Code</h2>
    <pre>
        <code data-trim data-noescape>
        if (coupon.isValid()) {
            // ...
        }
        </code>
    </pre>
    <aside class="notes">
        Nicht mit Kommentaren reparieren!
        Lieber refactoren...
    </aside>
</section>

<section>
    <h2>Überflüssige Kommentare</h2>
    <pre>
        <code data-trim data-noescape>
            /**
             * Constructor method
             */
            public function __construct() {
                // ...
            }

            /**
             * Sets the name
             */
            public function getName() {

            }
        </code>
    </pre>
</section>

<section>
    <h2>Positionsmarker</h2>
    <pre>
        <code data-trim data-noescape>
            // Section for Subscribers //////////////////
            function getSubscribedEvents() {...}
            function onStartup() {...}

            // Events & Hooks //////////////////
            function registerHooks() {...}

            // Bootstrap methods //////////////////
            function loadPlugin() {...}
            function checkLicence() {...}

            // Setup methods //////////////////
            function install() {...}
            function update() {...}
        </code>
    </pre>
</section>

<section>
    <h2>Toter Code</h2>
    <pre>
        <code data-trim data-noescape>
        $payableAmount = $order->calculateAmount();
        $request->setCashOnDelivery(null);

        // if ($order->isCashOnDelivery()) {
        //     // Add 'cash on delivery' to the request
        //     $request->setCashOnDelivery($payableAmount);
        // }

        $request->setPayableAmount($payableAmount);
        </code>
    </pre>

    <aside class="notes" data-markdown>
        - Muss nicht mehr gelsesen werden
        - Kommentare altern, wenn code sich ändert
        - VCS hat nach löschen immernoch eine Kopie
    </aside>
</section>

<section>
    <h2>Falsche Kommentare</h2>
    <pre>
        <code data-trim data-noescape>
            public function test_hasCoupons_voucherOrder()
            {
                /** @var Order $order */
                $order = $this->createVoucherOrder();

                // Assert that order has no coupon
                self::assertTrue($this->documentManager->hasCoupons($order->getNumber()));
            }
        </code>
    </pre>
</section>

<section>
    <h2>Zusatzinfo</h2>
    <pre>
        <code data-trim data-noescape>
            // File Order.php
            // Created by FritzFranz on 11.11.11

            class Order {
                // ...
            }
        </code>
    </pre>

    <aside class="notes" data-markdown>
        - Dateiname soltle bekannt sein
        - Wer Datei erstellthat und wann steht im VCS
    </aside>
</section>

<section data-markdown>
    ## Aufklären
    ```
    public function isValid()
    {
        // Vouchers are still valid the whole day
        // of the validTo date
        return self.getValidTo() === null
            || (now() - self.getValidTo()) < 24 * 60 * 60;
    }
    ```
</section>

<section data-markdown>
    ## Intention verdeutlichen
    ```
    fputcsv(
        self::$fileHandle,
        $columnHeaders,
        ';' // Use semicolon since our data may contain ','
    );
    ```
</section>

<section>
    <h2>Informieren</h2>
    <pre>
        <code data-trim data-noescape>
            // This looks like "de-DE, en-US;q=0.9, en-GB;q=0.8"
            $acceptLanguage = $request->getHeader('accept-language');
        </code>
    </pre>
</section>

<section data-markdown>
    ## Achtung!

    Kommentare gehören zum Code!

    <b>Beim Refactoren beachten!</b>

</section>

<section>
    <h2>DocBlocks</h2>
    <pre>
        <code data-trim data-noescape>
            /**
             * @param \DateTime|null $validTo==null infers infinite validity
             */
            public function setValidTo(\DateTime $validTo = null)
            {
                $this->validTo = $validTo;
            }
        </code>
    </pre>
    <pre class="fragment fade-up">
        <code data-trim data-noescape>
            /**
             * Sets the code
             * @param Code $code The code to set
             */
            public function setCode(Code $code)
            {
                $this->code = $code;
            }
        </code>
    </pre>
    <aside class="notes">
        Nicht zu viel
        Nicht zu wenig
        Optimum finden
    </aside>
</section>
